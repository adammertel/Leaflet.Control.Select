import { Meta, Story, Preview } from "@storybook/addon-docs/blocks";

import * as L from "leaflet";
import "./../node_modules/leaflet/dist/leaflet.css";
import "../dist/leaflet.control.select.src.js";
import "./../dist/leaflet.control.select.css";

import "./demo.css";

<Meta title="Additionalclass" />

# `additionalClass` parameter

With the `additionalClass` parameter, you can append a custom class to the menu control element, e.g., to further customize the styling.

**Create control with additional className :**

```js
selectControl = L.control
  .select({
    position: "topleft",
    additionalClass: `YOUR CLASSNAME`,
    iconMain: "â˜°",
    items: [
      { value: "item1" },
      { value: "item2" },
      { value: "item3" },
      { value: "item4" },
      { value: "item5" },
    ],
  })
  .addTo(map);
```

In this demo, we created three classes `.blue-control`, `.red-control`, and `.green-control`. Besides one of these classNames, we are also appending the `.custom-control` class to the Select element.
Our CSS file looks:

```css
.custom-control a {
  color: white;
}

.custom-control .leaflet-control-select-menu {
  color: white;
  font-weight: bold;
}

.blue-control a {
  background-color: #a6cee3;
}
.blue-control a:hover {
  background-color: #1f78b4;
}
.blue-control .leaflet-control-select-menu {
  background-color: #1f78b4;
}

.red-control a {
  background-color: #fb9a99;
}
.red-control a:hover {
  background-color: #e31a1c;
}
.red-control .leaflet-control-select-menu {
  background-color: #e31a1c;
}

.green-control a {
  background-color: #b2df8a;
}
.green-control a:hover {
  background-color: #33a02c;
}
.green-control .leaflet-control-select-menu {
  background-color: #33a02c;
}
```

This example dynamically switches the className of the Select element by clicking one of the buttons on top of the map.

### Story

<Preview>
  <Story name="Test story">
    {() => {
      const buttonsDiv = document.createElement("div");
      const buttonDiv1 = document.createElement("button");
      const buttonDiv2 = document.createElement("button");
      const buttonDiv3 = document.createElement("button");
      buttonDiv1.setAttribute("content", "test content");
      buttonDiv1.textContent = "blue control class";
      buttonDiv2.setAttribute("content", "test content");
      buttonDiv2.textContent = "red control class";
      buttonDiv3.setAttribute("content", "test content");
      buttonDiv3.textContent = "green control class";
      buttonsDiv.appendChild(buttonDiv1);
      buttonsDiv.appendChild(buttonDiv2);
      buttonsDiv.appendChild(buttonDiv3);
      const mapDiv = document.createElement("div");
      const wrapperDiv = document.createElement("div");
      mapDiv.setAttribute("id", "map");
      var map;
      let selectControl = false;
      var items = [
        { label: "sunny", value: "â˜¼" },
        { label: "half-sunny", value: "ðŸŒ¤" },
        { label: "half-raining", value: "ðŸŒ¦" },
        { label: "raining", value: "ðŸŒ¨" },
        { label: "tornado", value: "ðŸŒª" },
      ];
      const reloadSelect = (className) => {
        if (selectControl) {
          selectControl.remove();
        }
        selectControl = L.control
          .select({
            position: "topleft",
            additionalClass: `${className} custom-control`,
            iconMain: "â˜°",
            items: [
              { value: "item1" },
              { value: "item2" },
              { value: "item3" },
              { value: "item4" },
              { value: "item5" },
            ],
          })
          .addTo(map);
      };
      setTimeout(() => {
        var marker;
        var mapZoom = 11;
        var mapPosition = [49, 18];
        var drawMarker = (newItemValue) => {
          marker.setIcon(
            L.divIcon({
              html: '<div class="icon">' + newItemValue + "</div>",
              className: "marker-icon",
              iconSize: [40, 40],
            })
          );
        };
        map = L.map("map", { maxZoom: 14 }).setView(mapPosition, mapZoom);
        L.tileLayer("http://{s}.tile.osm.org/{z}/{x}/{y}.png", {
          attribution:
            '&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',
        }).addTo(map);
        reloadSelect("blue-control");
      }, 0);
      wrapperDiv.appendChild(buttonsDiv);
      wrapperDiv.appendChild(mapDiv);
      buttonDiv1.onclick = () => {
        console.log(`setting classname .blue-control`);
        reloadSelect("blue-control");
      };
      buttonDiv2.onclick = () => {
        console.log(`setting classname .red-control`);
        reloadSelect("red-control");
      };
      buttonDiv3.onclick = () => {
        console.log(`setting classname .green-control`);
        reloadSelect("green-control");
      };
      return wrapperDiv;
    }}
  </Story>
</Preview>
